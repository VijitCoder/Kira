# Роутинг
Сначала нужно сделать работу с картой роутов. Потом описывать.

Роутер следит за хвостовым слешем и редиректит на URI без него:
```
    /some/page/ -> /some/page
    /give/it/?id=123 -> /give/it?id=123
```
О самих роутах. По типу: controller/action/param1/param2/../paramNN?query_string

О том, как роутер ищет контороллер. Как разбирает сам роут

---

Роутер можно заменить на свой. Тогда в конфиге прописать в параметр ***router*** - FQN имя класса роутера.

Теперь о роутере, встроенном в движок.

Ему нужна настройка *"errorHandler"* (см. базовая конфигурация). В ней указывается контроллер (с пространством имен) + действие, который будет отвечать при 404 ошибке. Если контроллера нет, тогда роутер ограничится только отправкой заголовка '404 Not found'. 

<small><p>Offtopic: пустая страница с 404 заголовком - сомнительная выгода. Я думаю, что web-сервер не возьмет на себя генерацию страницы, если PHP отправит 404. Полагаю, сервер отвечает своей 404 только если он сам ресурс не нашел. Короче, рекомендую завести свой метод для отрисовки 404-й, хотя бы для роутера.</p>

<p>Так же возможно в конфигурации web-сервера указать свой ErrorController в качестве обработчика ошибок. Для Apache это директива "<i>ErrorDocument</i>". В таком случае заголовки шлет сервер, а контроллер только рисует соответствующую страницу и отдает ее. Т.о. ErrorController вообще не должен заниматься отправкой заголовков.</p></small>

Идея такая: если не используем php-маршрутизацию, тогда в конфиге нужно указать простраство имен, где искать контроллеры. Роутер будет искать там по точному соответствию с учетом регистра. Это приемлемо, если маршрутами рулит mod_rewrite, например. Или когда вообще маршрутизация не нужна, типа: одна страница = один контроллер.

PHP-маршрутизация похожа на Yii. Слева - regex-правило, справа - FQN контроллера + action.


