# Утилиты. Strings

Класс `\kira\utils\Strings`

Работа со строками. В классе есть:

- `generatePassword()` - клевая функция для генерации пароля по заданным требованиям
- `randomString()` - генерация пвсевдо-случайной строки из читабельных символов
- `rus2eng()` и `eng2rus()` - транслитеральные функции (en-ru)
- `declination()` - функция для склонения слова в зависимости от заданного числа
- `upperCaseFirst()` и `lowerCaseFirst()` - недостающие функции обработки мультибайтных строк
- `strBool()` - превращение булева значения в строковое название
- `br2nl()` - преобразование html-тега \<br> в перенос строки, принятый в текущей ОС

---

Разбиение строки на части заданной длины в буквах:

function __wordChunk($str, $len = 76, $end = "\r\n")__: _string_

Безопасно для мультибайтных строк, т.е. не разделит букву посредине ее кода. Такой проблемой страдают php-функции `chunk_split()` и `wordwrap()` (в случае, когда ей разрешено разбивать слова). Эти функции делят строку по байтам.

При выборе требуемой длины следует вычитать символы конца строки. Функция их добавляет к итоговой длине.
Например, `Strings::wordChunk('русский', 3, ' + ')` даст 'рус + ски + й'

---

Проверка: символ экранирован

function __isShielded(string $text)__: _bool_

Это узкоспециализированная функция. Полезна в случае парсинга строки, например, для добавления в нее стилей. Практический пример: я использую эту функцию для нахождения закрывающих кавычек и скобок в упаковщике статики.

Как использовать: предположим у вас есть некий текст, ваш код нашел в нем символ, который влиет на дальнейшее поведение программы, но только при условии, что он не экранирован. Передаете в функцию весь текст до этого символа. Она посчитает количество обратных слешей в конце строки (т.е. переданного текста). Если количество нечетное, значит символ экранирован. Т.е. парные слеши - это экранирование их самих (первый экранирует второй), а свободный слеш уже экранирует следующий за ним символ.
